"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/POSterminal",{

/***/ "./src/store/interactions.js":
/*!***********************************!*\
  !*** ./src/store/interactions.js ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addNewMenuItem: function() { return /* binding */ addNewMenuItem; },\n/* harmony export */   addTicketOrders: function() { return /* binding */ addTicketOrders; },\n/* harmony export */   clearActiveTicket: function() { return /* binding */ clearActiveTicket; },\n/* harmony export */   createNewJob: function() { return /* binding */ createNewJob; },\n/* harmony export */   createNewRestaurant: function() { return /* binding */ createNewRestaurant; },\n/* harmony export */   createPOS: function() { return /* binding */ createPOS; },\n/* harmony export */   createTicketForPOS: function() { return /* binding */ createTicketForPOS; },\n/* harmony export */   decorateMyRestaurants: function() { return /* binding */ decorateMyRestaurants; },\n/* harmony export */   endService: function() { return /* binding */ endService; },\n/* harmony export */   hireNewEmployee: function() { return /* binding */ hireNewEmployee; },\n/* harmony export */   loadAccount: function() { return /* binding */ loadAccount; },\n/* harmony export */   loadAllEmployees: function() { return /* binding */ loadAllEmployees; },\n/* harmony export */   loadAllJobs: function() { return /* binding */ loadAllJobs; },\n/* harmony export */   loadAllMenuItems: function() { return /* binding */ loadAllMenuItems; },\n/* harmony export */   loadAllPOS: function() { return /* binding */ loadAllPOS; },\n/* harmony export */   loadAllRestaurants: function() { return /* binding */ loadAllRestaurants; },\n/* harmony export */   loadAllServices: function() { return /* binding */ loadAllServices; },\n/* harmony export */   loadAllTicketsForPOS: function() { return /* binding */ loadAllTicketsForPOS; },\n/* harmony export */   loadDashboardRestaurantContractData: function() { return /* binding */ loadDashboardRestaurantContractData; },\n/* harmony export */   loadEmployeeRelevantPOS: function() { return /* binding */ loadEmployeeRelevantPOS; },\n/* harmony export */   loadFactory: function() { return /* binding */ loadFactory; },\n/* harmony export */   loadFullTicketDetails: function() { return /* binding */ loadFullTicketDetails; },\n/* harmony export */   loadMenuItemsForPOS: function() { return /* binding */ loadMenuItemsForPOS; },\n/* harmony export */   loadMyRestaurants: function() { return /* binding */ loadMyRestaurants; },\n/* harmony export */   loadNetwork: function() { return /* binding */ loadNetwork; },\n/* harmony export */   loadProvider: function() { return /* binding */ loadProvider; },\n/* harmony export */   setActiveTicket: function() { return /* binding */ setActiveTicket; },\n/* harmony export */   startService: function() { return /* binding */ startService; },\n/* harmony export */   subscribeToEvents: function() { return /* binding */ subscribeToEvents; }\n/* harmony export */ });\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../abis/Restaurant.json */ \"./src/abis/Restaurant.json\");\n/* harmony import */ var _abis_decentratalityServiceFactory_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../abis/decentratalityServiceFactory.json */ \"./src/abis/decentratalityServiceFactory.json\");\n/* harmony import */ var _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../abis/POS.json */ \"./src/abis/POS.json\");\n// src/store/interactions.js\n\n\n\n\n\nlet GlobalRestaurants = [];\nconst loadProvider = async (dispatch)=>{\n    const connection = await new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.BrowserProvider(window.ethereum);\n    dispatch({\n        type: \"PROVIDER_LOADED\",\n        connection\n    });\n    return connection;\n};\nconst loadAccount = async (provider, dispatch)=>{\n    const accounts = await provider.send(\"eth_requestAccounts\", []);\n    const account = ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.getAddress(accounts[0]);\n    dispatch({\n        type: \"ACCOUNT_LOADED\",\n        account\n    });\n    return account;\n};\nconst loadNetwork = async (provider, dispatch)=>{\n    let { chainId } = await provider.getNetwork();\n    chainId = Number(chainId);\n    dispatch({\n        type: \"NETWORK_LOADED\",\n        chainId\n    });\n    return chainId;\n};\nconst subscribeToEvents = async function(restaurantFactory, dispatch) {\n    for(var _len = arguments.length, Restaurants = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++){\n        Restaurants[_key - 2] = arguments[_key];\n    }\n    restaurantFactory.on(\"RestaurantCreated\", (restaurant1, id, owner, event)=>{\n        const _restaurant = event.args;\n        dispatch({\n            type: \"NEW_RESTAURANT_CREATION_SUCCESS\",\n            _restaurant,\n            event\n        });\n    });\n    for(restaurant in Restaurants){\n        restaurant.on(\"JobAdded\", (id, timestamp, job, event)=>{});\n    }\n};\nconst loadFactory = async (provider, address, dispatch)=>{\n    const user = await provider.getSigner();\n    const decentratalityServiceFactory = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(address, _abis_decentratalityServiceFactory_json__WEBPACK_IMPORTED_MODULE_1__.abi, user);\n    dispatch({\n        type: \"DECENTRATALITY_SERVICE_FACTORY_LOADED\",\n        decentratalityServiceFactory\n    });\n    return decentratalityServiceFactory;\n};\nconst loadAllRestaurants = async (provider, factory, dispatch)=>{\n    let Restaurants, Restaurant, RestaurantsRaw;\n    Restaurant = [];\n    Restaurants = [];\n    const block = await provider.getBlockNumber();\n    const restaurantStream = await factory.queryFilter(\"RestaurantCreated\", 0, block);\n    RestaurantsRaw = restaurantStream.map((event)=>event.args);\n    if (GlobalRestaurants.length == 0) {\n        for(let i = 0; i < RestaurantsRaw.length; i++){\n            let restaurant1 = RestaurantsRaw[i];\n            for(let key in restaurant1){\n                if (typeof restaurant1[key] === \"bigint\") {\n                    Restaurant.push(Number(restaurant1[key]));\n                } else {\n                    Restaurant.push(restaurant1[key]);\n                }\n            }\n            Restaurants.push(Restaurant);\n            Restaurant = [];\n        }\n    }\n    GlobalRestaurants = Restaurants;\n    for(let i = GlobalRestaurants.length; i < Restaurants.length - 1; i++){\n        let restaurant1 = RestaurantsRaw[i];\n        for(let key in restaurant1){\n            if (typeof restaurant1[key] === \"bigint\") {\n                Restaurant.push(Number(restaurant1[key]));\n            } else {\n                Restaurant.push(restaurant1[key]);\n            }\n        }\n        Restaurants.push(Restaurant);\n        Restaurant = [];\n    }\n    GlobalRestaurants = Restaurants;\n    dispatch({\n        type: \"All_RESTAURANTS_LOADED\",\n        Restaurants\n    });\n    return Restaurants;\n};\nconst loadMyRestaurants = async (provider, user, Restaurants, dispatch)=>{\n    let myRestaurants1 = [];\n    for(let i = 0; i < Restaurants.length; i++){\n        if (Restaurants[i][2] == user) {\n            myRestaurants1.push(Restaurants[i]);\n        }\n    }\n    if (myRestaurants1.length == 0) {\n        return;\n    }\n    dispatch({\n        type: \"MY_RESTAURANTS_LOADED\",\n        myRestaurants: myRestaurants1\n    });\n    return myRestaurants1;\n};\nconst decorateMyRestaurants = async (provider, myRestaurants1)=>{\n    const user = await provider.getSigner();\n    const decoratedRestaurants = [];\n    try {\n        for(let i = 0; i < myRestaurants1.length; i++){\n            const contract = await new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(myRestaurants1[i][0], _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__, user);\n            const name = await contract.name();\n            const cash = Number(await provider.getBalance(contract.target));\n            // Create a new object instead of mutating the existing one\n            const decoratedRestaurant = {\n                ...myRestaurants1[i],\n                name,\n                cash\n            };\n            decoratedRestaurants.push(decoratedRestaurant);\n        }\n    } catch (error) {\n        console.log(error);\n    }\n    return decoratedRestaurants;\n};\nconst createNewRestaurant = async (provider, factory, restaurantName, restaurantLiquidity, dispatch)=>{\n    let newRestaurant;\n    const user = await provider.getSigner();\n    const balance = await provider.getBalance(user);\n    try {\n        if (Number(balance) >= restaurantLiquidity) {\n            newRestaurant = await factory.createRestaurant(restaurantName, restaurantLiquidity, {\n                value: restaurantLiquidity\n            });\n            dispatch({\n                type: \"RESTAURANT_CREATION_REQUEST\",\n                myRestaurants\n            });\n        } else {\n            console.log(\"welp\");\n        }\n    } catch (error) {\n        dispatch({\n            type: \"RESTAURANT_CREATION_FAIL\"\n        });\n    }\n    return newRestaurant;\n};\nconst loadDashboardRestaurantContractData = async (provider, Restaurant, dispatch)=>{\n    const user = await provider.getSigner();\n    const contractAddress = Restaurant[0];\n    const abi = _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__;\n    const contract = await new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n    const name = await contract.name();\n    const myCash = await provider.getBalance(contractAddress);\n    const cash = Number(myCash).toString();\n    dispatch({\n        type: \"DASHBOARD_RESTAURANT_LOADED\",\n        contractAddress,\n        abi,\n        name,\n        cash\n    });\n    return contract;\n};\n// interactions.js\nconst createNewJob = async (provider, contractAddress, abi, name, wage, dispatch)=>{\n    const user = await provider.getSigner();\n    const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n    // Call the contract function to add a new job\n    const tx = await contract.addJob(wage, name);\n    // Wait for the transaction to be mined\n    await tx.wait();\n    // Reload all jobs\n    await loadAllJobs(provider, contractAddress, abi, dispatch);\n};\nconst hireNewEmployee = async (provider, contractAddress, abi, jobId, name, employeeAddress, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        // Call the contract function to hire a new employee\n        const tx = await contract.hireEmployee(jobId, name, employeeAddress);\n        // Wait for the transaction to be mined\n        await tx.wait();\n        // Reload all employees\n        await loadAllEmployees(provider, contractAddress, abi, dispatch);\n    } catch (error) {\n        console.error(\"Error in hireNewEmployee:\", error);\n    }\n};\nconst loadAllEmployees = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        // Fetch the array of employee IDs\n        const employeeIds = await contract.getEmployeeIds();\n        const employeesArray = [];\n        for(let i = 0; i < employeeIds.length; i++){\n            const employeeId = Number(employeeIds[i]); // Convert BigNumber to Number\n            const employee = await contract.employees(employeeId);\n            employeesArray.push({\n                id: employeeId.toString(),\n                jobId: employee.jobId.toString(),\n                name: employee.name,\n                address: employee.employeeAddress,\n                clockStamp: employee.clockStamp.toString(),\n                employeePension: employee.employeePension.toString()\n            });\n        }\n        // Dispatch action to update employees in Redux store\n        dispatch({\n            type: \"EMPLOYEES_LOADED\",\n            employees: employeesArray\n        });\n    } catch (error) {\n        console.error(\"Error in loadAllEmployees:\", error);\n    }\n};\nconst loadAllJobs = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        // Fetch the array of job IDs\n        const jobIds = await contract.getJobIds();\n        const jobsArray = [];\n        for(let i = 0; i < jobIds.length; i++){\n            const jobId = Number(jobIds[i]); // Convert BigNumber to Number\n            const job = await contract.jobs(jobId);\n            jobsArray.push({\n                id: jobId.toString(),\n                hourlyWageInWei: job.hourlyWageInWei.toString(),\n                jobName: job.jobName\n            });\n        }\n        // Dispatch action to update jobs in Redux store\n        dispatch({\n            type: \"JOBS_LOADED\",\n            jobs: jobsArray\n        });\n    } catch (error) {\n        console.error(\"Error in loadAllJobs:\", error.message);\n    }\n};\nconst startService = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        const tx = await contract.startService();\n        const receipt = await tx.wait();\n        // Get the block timestamp from the transaction receipt\n        const block = await provider.getBlock(receipt.blockNumber);\n        const serviceStartTime = block.timestamp;\n        // Dispatch the service start time\n        dispatch({\n            type: \"SERVICE_STARTED\",\n            serviceStartTime\n        });\n    } catch (error) {\n        console.error(\"Error in startService:\", error);\n    }\n};\nconst loadAllServices = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        // Fetch the array of service IDs\n        const serviceIds = await contract.getServiceIds();\n        const servicesArray = [];\n        for(let i = 0; i < serviceIds.length; i++){\n            const serviceId = Number(serviceIds[i]);\n            const service = await contract.services(serviceId);\n            servicesArray.push({\n                id: serviceId.toString(),\n                startTime: service.startTime.toString(),\n                endTime: service.endTime.toString(),\n                cost: service.cost.toString(),\n                profit: service.profit.toString(),\n                revenue: service.revenue.toString()\n            });\n        }\n        // Dispatch action to update services in Redux store\n        dispatch({\n            type: \"SERVICES_LOADED\",\n            services: servicesArray\n        });\n    } catch (error) {\n        console.error(\"Error in loadAllServices:\", error);\n    }\n};\nconst endService = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const user = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, user);\n        const tx = await contract.endService();\n        await tx.wait();\n        // Optionally dispatch an action to update the service status in Redux\n        dispatch({\n            type: \"SERVICE_STOPPED\"\n        });\n    } catch (error) {\n        console.error(\"Error in endService:\", error);\n    }\n};\nconst createPOS = async (provider, contractAddress, abi, name, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, signer);\n        // Call the createPOS function on the contract\n        const tx = await contract.createPOS(name);\n        const receipt = await tx.wait();\n        // Extract the POSCreated event from the receipt\n        const event = receipt.logs.map((log)=>{\n            try {\n                return contract.interface.parseLog(log);\n            } catch (e) {\n                return null;\n            }\n        }).find((parsedLog)=>parsedLog && parsedLog.name === \"POSCreated\");\n        if (event) {\n            const posId = event.args.id.toString();\n            const posAddress = event.args.pos;\n        // Dispatch action to update Redux store\n        }\n        // Reload POS list\n        await loadAllPOS(provider, contractAddress, abi, dispatch);\n    } catch (error) {\n        console.error(\"Error in createPOS:\", error);\n    }\n};\nconst loadAllPOS = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const contract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__, signer);\n        // Fetch the array of POS IDs\n        const posIds = await contract.getPOSIds();\n        const posArray = [];\n        for(let i = 0; i < posIds.length; i++){\n            const posId = Number(posIds[i]);\n            const posAddress = await contract.POSMapping(posId);\n            const posContract = await new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n            const posName = await posContract.getName();\n            console.log(posName);\n            posArray.push({\n                id: posId.toString(),\n                address: posAddress,\n                name: posName.toString()\n            });\n        }\n        // Dispatch action to update POS in Redux store\n        dispatch({\n            type: \"POS_LOADED\",\n            posArray\n        });\n    } catch (error) {\n        console.error(\"Error in loadAllPOS:\", error);\n    }\n};\nconst loadAllMenuItems = async (provider, contractAddress, abi, dispatch)=>{\n    try {\n        const restaurantContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, abi, provider);\n        // Get all POS addresses associated with the restaurant\n        const posAddresses = await restaurantContract.getAllPOSAddresses();\n        if (posAddresses.length === 0) {\n            dispatch({\n                type: \"LOAD_ALL_MENU_ITEMS_SUCCESS\",\n                payload: []\n            });\n            return;\n        }\n        const firstPOSAddress = posAddresses[0];\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(firstPOSAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, provider);\n        const menuItemIds = await posContract.getMenuItemIds();\n        let menuItems = [];\n        for(let i = 0; i < menuItemIds.length; i++){\n            const id = Number(menuItemIds[i]);\n            const menuItem = await posContract.menu(id);\n            menuItems.push({\n                id: id,\n                cost: ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.formatEther(menuItem.cost),\n                name: menuItem.name\n            });\n        }\n        dispatch({\n            type: \"LOAD_ALL_MENU_ITEMS_SUCCESS\",\n            payload: menuItems\n        });\n    } catch (error) {\n        console.error(\"Error loading menu items:\", error);\n    }\n};\nconst addNewMenuItem = async (provider, contractAddress, abi, cost, name, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const restaurantContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(contractAddress, _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__, provider);\n        // Get all POS addresses from the restaurant contract\n        const posAddresses = await restaurantContract.getAllPOSAddresses();\n        // Loop through each POS address and add the menu item\n        for(let i = 0; i < posAddresses.length; i++){\n            const posAddress = posAddresses[i];\n            // Create a new contract instance for each POS\n            const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n            // Call the addMenuItem function on each POS contract\n            const costInWei = ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.parseUnits(cost.toString(), \"ether\");\n            const tx = await posContract.addMenuItem(costInWei, name);\n            await tx.wait();\n        }\n        dispatch({\n            type: \"MENU_ITEM_ADDED\",\n            payload: {\n                cost,\n                name\n            }\n        });\n        await loadAllMenuItems(provider, contractAddress, abi, dispatch);\n    } catch (error) {\n        console.error(\"Error adding new menu item:\", error);\n    }\n};\n// In interactions.js (near loadAllPOS or after it):\nconst loadEmployeeRelevantPOS = async (provider, restaurantAddress, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const restaurantContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(restaurantAddress, _abis_Restaurant_json__WEBPACK_IMPORTED_MODULE_0__, signer);\n        const posIds = await restaurantContract.getPOSIds();\n        const posArray = [];\n        for(let i = 0; i < posIds.length; i++){\n            const posId = Number(posIds[i]);\n            const posAddress = await restaurantContract.POSMapping(posId);\n            const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n            const posName = await posContract.getName();\n            posArray.push({\n                id: posId.toString(),\n                address: posAddress,\n                name: posName.toString()\n            });\n        }\n        // Dispatch an action that specifically stores POS addresses relevant to the current employee's restaurant\n        dispatch({\n            type: \"RELEVANT_POS_LOADED_FOR_EMPLOYEE\",\n            payload: posArray\n        });\n        return posArray;\n    } catch (error) {\n        console.error(\"Error in loadEmployeeRelevantPOS:\", error);\n    }\n};\nconst createTicketForPOS = async (provider, posAddress, posAbi, ticketName, serverAddress, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, posAbi, signer);\n        // The POS contract extends MenuTicketBase, which has createTicket(_server, _name)\n        const tx = await posContract.createTicket(serverAddress, ticketName);\n        await tx.wait();\n        // After creation, reload tickets so the UI remains up-to-date\n        await loadAllTicketsForPOS(provider, posAddress, posAbi, dispatch);\n        dispatch({\n            type: \"CREATE_TICKET_SUCCESS\"\n        });\n    } catch (error) {\n        console.error(\"Error creating ticket:\", error);\n        dispatch({\n            type: \"CREATE_TICKET_FAIL\",\n            error\n        });\n    }\n};\n/**\r\n * Loads all tickets from a given POS contract.\r\n * @param provider Ethers provider/signer\r\n * @param posAddress The POS contract address\r\n * @param posAbi The ABI for the POS contract\r\n * @param dispatch Redux dispatch function\r\n */ const loadAllTicketsForPOS = async (provider, posAddress, posAbi, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n        console.log();\n        // The POS contract (via MenuTicketBase) has an array TicketIds, so we read that\n        const ticketIds = await posContract.getTicketIds();\n        const ticketsArray = [];\n        for(let i = 0; i < ticketIds.length; i++){\n            const ticketIdBN = ticketIds[i]; // BigInt\n            const ticketId = Number(ticketIdBN);\n            const ticketStruct = await posContract.getTicket(ticketId);\n            // ticketStruct has { name, orders[], server, id, paid }\n            ticketsArray.push({\n                id: ticketStruct.id.toString(),\n                name: ticketStruct.name,\n                server: ticketStruct.server,\n                paid: ticketStruct.paid,\n                posAddress: posAddress // So we know which POS this ticket belongs to\n            });\n        }\n        // Dispatch to store in Redux. \n        // We can store them POS-by-POS or in a single array. \n        // Below, we just push them all into a single array in Redux:\n        dispatch({\n            type: \"TICKETS_LOADED\",\n            payload: {\n                posAddress,\n                tickets: ticketsArray\n            }\n        });\n    } catch (error) {\n        console.error(\"Error loading tickets for POS:\", error);\n        dispatch({\n            type: \"TICKETS_LOAD_FAIL\",\n            error\n        });\n    }\n};\nconst setActiveTicket = async (dispatch, ticket)=>{\n    dispatch({\n        type: \"ACTIVE_TICKET_SET\",\n        payload: ticket\n    });\n};\n/**\r\n * Clears the currently active ticket in Redux.\r\n * @param {Object} dispatch Redux dispatch\r\n */ const clearActiveTicket = async (dispatch)=>{\n    dispatch({\n        type: \"ACTIVE_TICKET_CLEAR\"\n    });\n};\n/**\r\n * Loads all menu items for a given POS contract address and returns them as an array.\r\n * Optionally, you could dispatch a Redux action to store them if desired.\r\n *\r\n * @param {*} provider Ethers provider/signer\r\n * @param {String} posAddress The address of the POS\r\n * @param {Array} posAbi The ABI for the POS contract\r\n * @param {Object} dispatch Redux dispatch\r\n * @returns {Array} An array of menu items [{ id, name, cost }, ...]\r\n */ const loadMenuItemsForPOS = async (provider, posAddress, posAbi, dispatch)=>{\n    try {\n        // Optional: dispatch({ type: 'MENU_ITEMS_LOAD_REQUEST' });\n        const signer = await provider.getSigner();\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n        const menuItemIds = await posContract.getMenuItemIds();\n        console.log(menuItemIds);\n        let menuItems = [];\n        for(let i = 0; i < menuItemIds.length; i++){\n            const id = Number(menuItemIds[i]);\n            const item = await posContract.menu(id);\n            // Convert cost from wei to Ether (or you can store raw wei).\n            menuItems.push({\n                id,\n                name: item.name,\n                cost: Number(ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.formatEther(item.cost))\n            });\n        }\n        // Optional: dispatch({ type: 'MENU_ITEMS_FOR_POS_LOADED', payload: menuItems });\n        return menuItems;\n    } catch (error) {\n        console.error(\"Error loading menu for POS:\", error);\n        // Optional: dispatch({ type: 'MENU_ITEMS_LOAD_FAIL', error });\n        return [];\n    }\n};\nconst addTicketOrders = async (provider, posAddress, posAbi, ticketId, items, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n        const tx = await posContract.addTicketOrders(ticketId, items);\n        await tx.wait();\n        // Optionally reload the updated ticket...\n        // await loadAllTicketsForPOS(provider, posAddress, posAbi, dispatch);\n        dispatch({\n            type: \"ADD_TICKET_ORDERS_SUCCESS\"\n        });\n    } catch (error) {\n        console.error(\"Error adding orders:\", error);\n        dispatch({\n            type: \"ADD_TICKET_ORDERS_FAIL\",\n            error\n        });\n    }\n};\nconst loadFullTicketDetails = async (provider, posAddress, posAbi, ticketId, dispatch)=>{\n    try {\n        const signer = await provider.getSigner();\n        const posContract = new ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.Contract(posAddress, _abis_POS_json__WEBPACK_IMPORTED_MODULE_2__, signer);\n        // Grab the entire ticket struct from the contract\n        const ticketStruct = await posContract.getTicket(ticketId);\n        // ticketStruct -> { name, orders[], server, id, paid }\n        // Convert orders[] from contract (cost in wei) to a friendlier JS array\n        const orders = [];\n        for(let i = 0; i < ticketStruct.orders.length; i++){\n            const orderItem = ticketStruct.orders[i];\n            orders.push({\n                name: orderItem.name,\n                cost: Number(ethers__WEBPACK_IMPORTED_MODULE_3__.ethers.formatEther(orderItem.cost))\n            });\n        }\n        const fullTicket = {\n            id: Number(ticketStruct.id).toString(),\n            name: ticketStruct.name,\n            server: ticketStruct.server,\n            paid: ticketStruct.paid,\n            posAddress,\n            orders\n        };\n        // Dispatch so Redux knows about the fully detailed ticket\n        dispatch({\n            type: \"ACTIVE_TICKET_DETAILS_LOADED\",\n            payload: fullTicket\n        });\n    } catch (error) {\n        console.error(\"Error loading full ticket details:\", error);\n        dispatch({\n            type: \"ACTIVE_TICKET_DETAILS_FAIL\",\n            error\n        });\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU90QiwwQ0FBTUEsQ0FBQ3dKLFdBQVcsQ0FBQ2dDLFVBQVVqRSxJQUFJO1lBQ2hEO1FBQ0Y7UUFFQSxNQUFNa0UsYUFBYTtZQUNqQjdKLElBQUlOLE9BQU9vSixhQUFhOUksRUFBRSxFQUFFa0QsUUFBUTtZQUNwQ2xCLE1BQU04RyxhQUFhOUcsSUFBSTtZQUN2QmdILFFBQVFGLGFBQWFFLE1BQU07WUFDM0JDLE1BQU1ILGFBQWFHLElBQUk7WUFDdkIxQztZQUNBb0Q7UUFDRjtRQUVBLDBEQUEwRDtRQUMxRGhMLFNBQVM7WUFBRUssTUFBTTtZQUFnQ3FJLFNBQVN3QztRQUFXO0lBQ3ZFLEVBQUUsT0FBT3hILE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcEQxRCxTQUFTO1lBQUVLLE1BQU07WUFBOEJxRDtRQUFNO0lBQ3ZEO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc3RvcmUvaW50ZXJhY3Rpb25zLmpzPzAwYTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3N0b3JlL2ludGVyYWN0aW9ucy5qc1xyXG5cclxuaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSAnZXRoZXJzJ1xyXG5pbXBvcnQgUkVTVEFVUkFOVF9BQkkgZnJvbSBcIi4uL2FiaXMvUmVzdGF1cmFudC5qc29uXCJcclxuaW1wb3J0IERFQ0VOVFJBVEFMSVRZU0VSVklDRUZBQ1RPUllfQUJJIGZyb20gXCIuLi9hYmlzL2RlY2VudHJhdGFsaXR5U2VydmljZUZhY3RvcnkuanNvblwiXHJcbmltcG9ydCBQT1NfQUJJIGZyb20gXCIuLi9hYmlzL1BPUy5qc29uXCI7XHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnXHJcblxyXG5sZXQgR2xvYmFsUmVzdGF1cmFudHMgPSBbXVxyXG5leHBvcnQgY29uc3QgbG9hZFByb3ZpZGVyID0gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XHJcblx0Y29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IG5ldyBldGhlcnMuQnJvd3NlclByb3ZpZGVyKHdpbmRvdy5ldGhlcmV1bSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnUFJPVklERVJfTE9BREVEJywgY29ubmVjdGlvbiB9KVxyXG5cclxuICAgIHJldHVybiBjb25uZWN0aW9uXHJcbn1cclxuZXhwb3J0IGNvbnN0IGxvYWRBY2NvdW50ID0gYXN5bmMgKHByb3ZpZGVyLCBkaXNwYXRjaCkgPT4ge1xyXG5cdGNvbnN0IGFjY291bnRzID0gYXdhaXQgcHJvdmlkZXIuc2VuZChcImV0aF9yZXF1ZXN0QWNjb3VudHNcIiwgW10pO1xyXG5cdGNvbnN0IGFjY291bnQgPSBldGhlcnMuZ2V0QWRkcmVzcyhhY2NvdW50c1swXSk7IFxyXG5cclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0FDQ09VTlRfTE9BREVEJywgYWNjb3VudH0pXHJcblxyXG4gICAgcmV0dXJuIGFjY291bnRcclxufVxyXG5leHBvcnQgY29uc3QgbG9hZE5ldHdvcmsgPSBhc3luYyAocHJvdmlkZXIsIGRpc3BhdGNoKSA9PiB7XHJcbiAgICBsZXQgeyBjaGFpbklkIH0gPSBhd2FpdCBwcm92aWRlci5nZXROZXR3b3JrKClcclxuICAgIGNoYWluSWQgPSBOdW1iZXIoY2hhaW5JZClcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ05FVFdPUktfTE9BREVEJywgY2hhaW5JZCB9KVxyXG5cclxuICAgIHJldHVybiBjaGFpbklkXHJcbn1cclxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVRvRXZlbnRzID0gYXN5bmMgKHJlc3RhdXJhbnRGYWN0b3J5LCBkaXNwYXRjaCwgLi4uUmVzdGF1cmFudHMpID0+IHtcclxuICAgICAgICByZXN0YXVyYW50RmFjdG9yeS5vbignUmVzdGF1cmFudENyZWF0ZWQnLCAocmVzdGF1cmFudCwgaWQsIG93bmVyLCBldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IF9yZXN0YXVyYW50ID0gZXZlbnQuYXJnc1xyXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ05FV19SRVNUQVVSQU5UX0NSRUFUSU9OX1NVQ0NFU1MnLCBfcmVzdGF1cmFudCwgZXZlbnQgfSlcclxuICAgIH0pXHJcbiAgICAgICAgZm9yKHJlc3RhdXJhbnQgaW4gUmVzdGF1cmFudHMpIHtcclxuICAgICAgICAgICAgcmVzdGF1cmFudC5vbignSm9iQWRkZWQnLCAoaWQsIHRpbWVzdGFtcCwgam9iLCBldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbn1cclxuZXhwb3J0IGNvbnN0IGxvYWRGYWN0b3J5ID0gYXN5bmMgKHByb3ZpZGVyLCBhZGRyZXNzLCBkaXNwYXRjaCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpXHJcbiAgICBjb25zdCBkZWNlbnRyYXRhbGl0eVNlcnZpY2VGYWN0b3J5ID0gbmV3IGV0aGVycy5Db250cmFjdChhZGRyZXNzLCBERUNFTlRSQVRBTElUWVNFUlZJQ0VGQUNUT1JZX0FCSS5hYmksIHVzZXIpO1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnREVDRU5UUkFUQUxJVFlfU0VSVklDRV9GQUNUT1JZX0xPQURFRCcsIGRlY2VudHJhdGFsaXR5U2VydmljZUZhY3RvcnkgfSlcclxuICAgIHJldHVybiBkZWNlbnRyYXRhbGl0eVNlcnZpY2VGYWN0b3J5XHJcbn1cclxuZXhwb3J0IGNvbnN0IGxvYWRBbGxSZXN0YXVyYW50cyA9IGFzeW5jIChwcm92aWRlciwgZmFjdG9yeSwgZGlzcGF0Y2gpID0+IHtcclxuICAgIGxldCBSZXN0YXVyYW50cywgUmVzdGF1cmFudCwgUmVzdGF1cmFudHNSYXdcclxuICAgIFJlc3RhdXJhbnQgPSBbXVxyXG4gICAgUmVzdGF1cmFudHMgPSBbXVxyXG4gICAgY29uc3QgYmxvY2sgPSBhd2FpdCBwcm92aWRlci5nZXRCbG9ja051bWJlcigpXHJcblxyXG4gICAgY29uc3QgcmVzdGF1cmFudFN0cmVhbSA9IGF3YWl0IGZhY3RvcnkucXVlcnlGaWx0ZXIoJ1Jlc3RhdXJhbnRDcmVhdGVkJywgMCwgYmxvY2spXHJcbiAgICBSZXN0YXVyYW50c1JhdyA9IHJlc3RhdXJhbnRTdHJlYW0ubWFwKGV2ZW50ID0+IGV2ZW50LmFyZ3MpXHJcblxyXG4gICAgaWYoR2xvYmFsUmVzdGF1cmFudHMubGVuZ3RoID09IDApe1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUmVzdGF1cmFudHNSYXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJlc3RhdXJhbnQgPSBSZXN0YXVyYW50c1Jhd1tpXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gcmVzdGF1cmFudCkge1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHJlc3RhdXJhbnRba2V5XSA9PT0gJ2JpZ2ludCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIFJlc3RhdXJhbnQucHVzaChOdW1iZXIocmVzdGF1cmFudFtrZXldKSlcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzdGF1cmFudC5wdXNoKHJlc3RhdXJhbnRba2V5XSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBSZXN0YXVyYW50cy5wdXNoKFJlc3RhdXJhbnQpXHJcbiAgICAgICAgICAgIFJlc3RhdXJhbnQgPSBbXVxyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG4gICAgR2xvYmFsUmVzdGF1cmFudHMgPSBSZXN0YXVyYW50c1xyXG4gICAgXHJcbiAgICBcclxuICAgIGZvciAobGV0IGkgPSBHbG9iYWxSZXN0YXVyYW50cy5sZW5ndGg7IGkgPCBSZXN0YXVyYW50cy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCByZXN0YXVyYW50ID0gUmVzdGF1cmFudHNSYXdbaV07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiByZXN0YXVyYW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mIHJlc3RhdXJhbnRba2V5XSA9PT0gJ2JpZ2ludCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFJlc3RhdXJhbnQucHVzaChOdW1iZXIocmVzdGF1cmFudFtrZXldKSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFJlc3RhdXJhbnQucHVzaChyZXN0YXVyYW50W2tleV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFJlc3RhdXJhbnRzLnB1c2goUmVzdGF1cmFudClcclxuICAgICAgICAgICAgICAgIFJlc3RhdXJhbnQgPSBbXVxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgR2xvYmFsUmVzdGF1cmFudHMgPSBSZXN0YXVyYW50c1xyXG4gICAgXHJcbiAgICBcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0FsbF9SRVNUQVVSQU5UU19MT0FERUQnLCBSZXN0YXVyYW50cyB9KVxyXG5cclxuICAgIFxyXG5cclxuICAgIHJldHVybiBSZXN0YXVyYW50c1xyXG59XHJcbmV4cG9ydCBjb25zdCBsb2FkTXlSZXN0YXVyYW50cyA9IGFzeW5jIChwcm92aWRlciwgdXNlciwgUmVzdGF1cmFudHMsIGRpc3BhdGNoKSA9PiB7XHJcbiAgICBcclxuICAgIGxldCBteVJlc3RhdXJhbnRzID0gW11cclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBSZXN0YXVyYW50cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgaWYoUmVzdGF1cmFudHNbaV1bMl0gPT0gdXNlcil7XHJcbiAgICAgICAgICAgIG15UmVzdGF1cmFudHMucHVzaChSZXN0YXVyYW50c1tpXSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZihteVJlc3RhdXJhbnRzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdNWV9SRVNUQVVSQU5UU19MT0FERUQnLCBteVJlc3RhdXJhbnRzIH0pXHJcbiAgICByZXR1cm4gbXlSZXN0YXVyYW50c1xyXG59XHJcbmV4cG9ydCBjb25zdCBkZWNvcmF0ZU15UmVzdGF1cmFudHMgPSBhc3luYyAocHJvdmlkZXIsIG15UmVzdGF1cmFudHMpID0+IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKVxyXG4gICAgY29uc3QgZGVjb3JhdGVkUmVzdGF1cmFudHMgPSBbXVxyXG4gICAgdHJ5e1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG15UmVzdGF1cmFudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IG5ldyBldGhlcnMuQ29udHJhY3QobXlSZXN0YXVyYW50c1tpXVswXSwgUkVTVEFVUkFOVF9BQkksIHVzZXIpXHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGF3YWl0IGNvbnRyYWN0Lm5hbWUoKVxyXG4gICAgICAgIGNvbnN0IGNhc2ggPSBOdW1iZXIoYXdhaXQgcHJvdmlkZXIuZ2V0QmFsYW5jZShjb250cmFjdC50YXJnZXQpKVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IGluc3RlYWQgb2YgbXV0YXRpbmcgdGhlIGV4aXN0aW5nIG9uZVxyXG4gICAgICAgIGNvbnN0IGRlY29yYXRlZFJlc3RhdXJhbnQgPSB7XHJcbiAgICAgICAgICAgIC4uLm15UmVzdGF1cmFudHNbaV0sXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIGNhc2hcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRlY29yYXRlZFJlc3RhdXJhbnRzLnB1c2goZGVjb3JhdGVkUmVzdGF1cmFudClcclxuICAgIH1cclxufWNhdGNoKGVycm9yKXtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG59XHJcbiAgICByZXR1cm4gZGVjb3JhdGVkUmVzdGF1cmFudHNcclxuXHJcbn1cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1Jlc3RhdXJhbnQgPSBhc3luYyAocHJvdmlkZXIsIGZhY3RvcnksIHJlc3RhdXJhbnROYW1lLCByZXN0YXVyYW50TGlxdWlkaXR5LCBkaXNwYXRjaCkgPT4ge1xyXG4gICAgbGV0IG5ld1Jlc3RhdXJhbnRcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKVxyXG4gICAgY29uc3QgYmFsYW5jZSA9IGF3YWl0IHByb3ZpZGVyLmdldEJhbGFuY2UodXNlcilcclxuICAgIHRyeXtcclxuICAgICAgICBcclxuICAgICAgICBpZihOdW1iZXIoYmFsYW5jZSkgPj0gcmVzdGF1cmFudExpcXVpZGl0eSl7XHJcbiAgICAgICAgbmV3UmVzdGF1cmFudCA9IGF3YWl0IGZhY3RvcnkuY3JlYXRlUmVzdGF1cmFudChyZXN0YXVyYW50TmFtZSwgcmVzdGF1cmFudExpcXVpZGl0eSwgeyB2YWx1ZTogcmVzdGF1cmFudExpcXVpZGl0eSB9KVxyXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ1JFU1RBVVJBTlRfQ1JFQVRJT05fUkVRVUVTVCcsIG15UmVzdGF1cmFudHMgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid2VscFwiKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH1jYXRjaChlcnJvcil7XHJcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBcIlJFU1RBVVJBTlRfQ1JFQVRJT05fRkFJTFwifSlcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdSZXN0YXVyYW50XHJcbn1cclxuZXhwb3J0IGNvbnN0IGxvYWREYXNoYm9hcmRSZXN0YXVyYW50Q29udHJhY3REYXRhID0gYXN5bmMgKHByb3ZpZGVyLCBSZXN0YXVyYW50LCBkaXNwYXRjaCkgPT4ge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpXHJcbiAgICBjb25zdCBjb250cmFjdEFkZHJlc3MgPSBSZXN0YXVyYW50WzBdXHJcbiAgICBjb25zdCBhYmkgPSBSRVNUQVVSQU5UX0FCSVxyXG4gICAgY29uc3QgY29udHJhY3QgPSBhd2FpdCBuZXcgZXRoZXJzLkNvbnRyYWN0KGNvbnRyYWN0QWRkcmVzcywgYWJpLCB1c2VyKVxyXG4gICAgY29uc3QgbmFtZSA9IGF3YWl0IGNvbnRyYWN0Lm5hbWUoKVxyXG4gICAgY29uc3QgbXlDYXNoID0gYXdhaXQgcHJvdmlkZXIuZ2V0QmFsYW5jZShjb250cmFjdEFkZHJlc3MpXHJcbiAgICBjb25zdCBjYXNoID0gTnVtYmVyKG15Q2FzaCkudG9TdHJpbmcoKVxyXG5cclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0RBU0hCT0FSRF9SRVNUQVVSQU5UX0xPQURFRCcsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBuYW1lLCBjYXNoIH0pXHJcblxyXG4gICAgcmV0dXJuIGNvbnRyYWN0XHJcbiAgICBcclxufVxyXG4vLyBpbnRlcmFjdGlvbnMuanNcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVOZXdKb2IgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBuYW1lLCB3YWdlLCBkaXNwYXRjaCkgPT4ge1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcclxuICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoY29udHJhY3RBZGRyZXNzLCBhYmksIHVzZXIpO1xyXG5cclxuICAvLyBDYWxsIHRoZSBjb250cmFjdCBmdW5jdGlvbiB0byBhZGQgYSBuZXcgam9iXHJcbiAgY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5hZGRKb2Iod2FnZSwgbmFtZSk7XHJcblxyXG4gIC8vIFdhaXQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxyXG4gIGF3YWl0IHR4LndhaXQoKTtcclxuXHJcbiAgLy8gUmVsb2FkIGFsbCBqb2JzXHJcbiAgYXdhaXQgbG9hZEFsbEpvYnMocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBoaXJlTmV3RW1wbG95ZWUgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBqb2JJZCwgbmFtZSwgZW1wbG95ZWVBZGRyZXNzLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoY29udHJhY3RBZGRyZXNzLCBhYmksIHVzZXIpO1xyXG5cclxuICAgIC8vIENhbGwgdGhlIGNvbnRyYWN0IGZ1bmN0aW9uIHRvIGhpcmUgYSBuZXcgZW1wbG95ZWVcclxuICAgIGNvbnN0IHR4ID0gYXdhaXQgY29udHJhY3QuaGlyZUVtcGxveWVlKGpvYklkLCBuYW1lLCBlbXBsb3llZUFkZHJlc3MpO1xyXG5cclxuICAgIC8vIFdhaXQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBiZSBtaW5lZFxyXG4gICAgYXdhaXQgdHgud2FpdCgpO1xyXG5cclxuICAgIC8vIFJlbG9hZCBhbGwgZW1wbG95ZWVzXHJcbiAgICBhd2FpdCBsb2FkQWxsRW1wbG95ZWVzKHByb3ZpZGVyLCBjb250cmFjdEFkZHJlc3MsIGFiaSwgZGlzcGF0Y2gpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoaXJlTmV3RW1wbG95ZWU6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkQWxsRW1wbG95ZWVzID0gYXN5bmMgKHByb3ZpZGVyLCBjb250cmFjdEFkZHJlc3MsIGFiaSwgZGlzcGF0Y2gpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGNvbnRyYWN0QWRkcmVzcywgYWJpLCB1c2VyKTtcclxuXHJcbiAgICAvLyBGZXRjaCB0aGUgYXJyYXkgb2YgZW1wbG95ZWUgSURzXHJcbiAgICBjb25zdCBlbXBsb3llZUlkcyA9IGF3YWl0IGNvbnRyYWN0LmdldEVtcGxveWVlSWRzKCk7XHJcblxyXG4gICAgY29uc3QgZW1wbG95ZWVzQXJyYXkgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW1wbG95ZWVJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZW1wbG95ZWVJZCA9IE51bWJlcihlbXBsb3llZUlkc1tpXSk7IC8vIENvbnZlcnQgQmlnTnVtYmVyIHRvIE51bWJlclxyXG4gICAgICBjb25zdCBlbXBsb3llZSA9IGF3YWl0IGNvbnRyYWN0LmVtcGxveWVlcyhlbXBsb3llZUlkKTtcclxuXHJcbiAgICAgIGVtcGxveWVlc0FycmF5LnB1c2goe1xyXG4gICAgICAgIGlkOiBlbXBsb3llZUlkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgam9iSWQ6IGVtcGxveWVlLmpvYklkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgbmFtZTogZW1wbG95ZWUubmFtZSxcclxuICAgICAgICBhZGRyZXNzOiBlbXBsb3llZS5lbXBsb3llZUFkZHJlc3MsXHJcbiAgICAgICAgY2xvY2tTdGFtcDogZW1wbG95ZWUuY2xvY2tTdGFtcC50b1N0cmluZygpLFxyXG4gICAgICAgIGVtcGxveWVlUGVuc2lvbjogZW1wbG95ZWUuZW1wbG95ZWVQZW5zaW9uLnRvU3RyaW5nKCksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3BhdGNoIGFjdGlvbiB0byB1cGRhdGUgZW1wbG95ZWVzIGluIFJlZHV4IHN0b3JlXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdFTVBMT1lFRVNfTE9BREVEJywgZW1wbG95ZWVzOiBlbXBsb3llZXNBcnJheSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gbG9hZEFsbEVtcGxveWVlczonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgbG9hZEFsbEpvYnMgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoY29udHJhY3RBZGRyZXNzLCBhYmksIHVzZXIpO1xyXG5cclxuICAgIC8vIEZldGNoIHRoZSBhcnJheSBvZiBqb2IgSURzXHJcbiAgICBjb25zdCBqb2JJZHMgPSBhd2FpdCBjb250cmFjdC5nZXRKb2JJZHMoKTtcclxuXHJcbiAgICBjb25zdCBqb2JzQXJyYXkgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgam9iSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGpvYklkID0gTnVtYmVyKGpvYklkc1tpXSk7IC8vIENvbnZlcnQgQmlnTnVtYmVyIHRvIE51bWJlclxyXG4gICAgICBjb25zdCBqb2IgPSBhd2FpdCBjb250cmFjdC5qb2JzKGpvYklkKTtcclxuXHJcbiAgICAgIGpvYnNBcnJheS5wdXNoKHtcclxuICAgICAgICBpZDogam9iSWQudG9TdHJpbmcoKSxcclxuICAgICAgICBob3VybHlXYWdlSW5XZWk6IGpvYi5ob3VybHlXYWdlSW5XZWkudG9TdHJpbmcoKSxcclxuICAgICAgICBqb2JOYW1lOiBqb2Iuam9iTmFtZSxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGlzcGF0Y2ggYWN0aW9uIHRvIHVwZGF0ZSBqb2JzIGluIFJlZHV4IHN0b3JlXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdKT0JTX0xPQURFRCcsIGpvYnM6IGpvYnNBcnJheSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gbG9hZEFsbEpvYnM6JywgZXJyb3IubWVzc2FnZSk7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgY29uc3Qgc3RhcnRTZXJ2aWNlID0gYXN5bmMgKHByb3ZpZGVyLCBjb250cmFjdEFkZHJlc3MsIGFiaSwgZGlzcGF0Y2gpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGNvbnRyYWN0QWRkcmVzcywgYWJpLCB1c2VyKTtcclxuXHJcbiAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LnN0YXJ0U2VydmljZSgpO1xyXG4gICAgY29uc3QgcmVjZWlwdCA9IGF3YWl0IHR4LndhaXQoKTtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGJsb2NrIHRpbWVzdGFtcCBmcm9tIHRoZSB0cmFuc2FjdGlvbiByZWNlaXB0XHJcbiAgICBjb25zdCBibG9jayA9IGF3YWl0IHByb3ZpZGVyLmdldEJsb2NrKHJlY2VpcHQuYmxvY2tOdW1iZXIpO1xyXG4gICAgY29uc3Qgc2VydmljZVN0YXJ0VGltZSA9IGJsb2NrLnRpbWVzdGFtcDtcclxuXHJcbiAgICAvLyBEaXNwYXRjaCB0aGUgc2VydmljZSBzdGFydCB0aW1lXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVJWSUNFX1NUQVJURUQnLCBzZXJ2aWNlU3RhcnRUaW1lIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzdGFydFNlcnZpY2U6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkQWxsU2VydmljZXMgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoY29udHJhY3RBZGRyZXNzLCBhYmksIHVzZXIpO1xyXG5cclxuICAgIC8vIEZldGNoIHRoZSBhcnJheSBvZiBzZXJ2aWNlIElEc1xyXG4gICAgY29uc3Qgc2VydmljZUlkcyA9IGF3YWl0IGNvbnRyYWN0LmdldFNlcnZpY2VJZHMoKTtcclxuXHJcbiAgICBjb25zdCBzZXJ2aWNlc0FycmF5ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcnZpY2VJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qgc2VydmljZUlkID0gTnVtYmVyKHNlcnZpY2VJZHNbaV0pO1xyXG4gICAgICBjb25zdCBzZXJ2aWNlID0gYXdhaXQgY29udHJhY3Quc2VydmljZXMoc2VydmljZUlkKTtcclxuXHJcbiAgICAgIHNlcnZpY2VzQXJyYXkucHVzaCh7XHJcbiAgICAgICAgaWQ6IHNlcnZpY2VJZC50b1N0cmluZygpLFxyXG4gICAgICAgIHN0YXJ0VGltZTogc2VydmljZS5zdGFydFRpbWUudG9TdHJpbmcoKSxcclxuICAgICAgICBlbmRUaW1lOiBzZXJ2aWNlLmVuZFRpbWUudG9TdHJpbmcoKSxcclxuICAgICAgICBjb3N0OiBzZXJ2aWNlLmNvc3QudG9TdHJpbmcoKSxcclxuICAgICAgICBwcm9maXQ6IHNlcnZpY2UucHJvZml0LnRvU3RyaW5nKCksXHJcbiAgICAgICAgcmV2ZW51ZTogc2VydmljZS5yZXZlbnVlLnRvU3RyaW5nKCksXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3BhdGNoIGFjdGlvbiB0byB1cGRhdGUgc2VydmljZXMgaW4gUmVkdXggc3RvcmVcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ1NFUlZJQ0VTX0xPQURFRCcsIHNlcnZpY2VzOiBzZXJ2aWNlc0FycmF5IH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBsb2FkQWxsU2VydmljZXM6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBlbmRTZXJ2aWNlID0gYXN5bmMgKHByb3ZpZGVyLCBjb250cmFjdEFkZHJlc3MsIGFiaSwgZGlzcGF0Y2gpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgY29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGNvbnRyYWN0QWRkcmVzcywgYWJpLCB1c2VyKTtcclxuXHJcbiAgICBjb25zdCB0eCA9IGF3YWl0IGNvbnRyYWN0LmVuZFNlcnZpY2UoKTtcclxuICAgIGF3YWl0IHR4LndhaXQoKTtcclxuXHJcbiAgICAvLyBPcHRpb25hbGx5IGRpc3BhdGNoIGFuIGFjdGlvbiB0byB1cGRhdGUgdGhlIHNlcnZpY2Ugc3RhdHVzIGluIFJlZHV4XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdTRVJWSUNFX1NUT1BQRUQnIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBlbmRTZXJ2aWNlOicsIGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUE9TID0gYXN5bmMgKHByb3ZpZGVyLCBjb250cmFjdEFkZHJlc3MsIGFiaSwgbmFtZSwgZGlzcGF0Y2gpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBjb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QoY29udHJhY3RBZGRyZXNzLCBhYmksIHNpZ25lcik7XHJcblxyXG4gICAgLy8gQ2FsbCB0aGUgY3JlYXRlUE9TIGZ1bmN0aW9uIG9uIHRoZSBjb250cmFjdFxyXG4gICAgY29uc3QgdHggPSBhd2FpdCBjb250cmFjdC5jcmVhdGVQT1MobmFtZSk7XHJcbiAgICBjb25zdCByZWNlaXB0ID0gYXdhaXQgdHgud2FpdCgpO1xyXG5cclxuICAgIC8vIEV4dHJhY3QgdGhlIFBPU0NyZWF0ZWQgZXZlbnQgZnJvbSB0aGUgcmVjZWlwdFxyXG4gICAgY29uc3QgZXZlbnQgPSByZWNlaXB0LmxvZ3NcclxuICAgICAgLm1hcCgobG9nKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHJldHVybiBjb250cmFjdC5pbnRlcmZhY2UucGFyc2VMb2cobG9nKTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmZpbmQoKHBhcnNlZExvZykgPT4gcGFyc2VkTG9nICYmIHBhcnNlZExvZy5uYW1lID09PSAnUE9TQ3JlYXRlZCcpO1xyXG5cclxuICAgIGlmIChldmVudCkge1xyXG4gICAgICBjb25zdCBwb3NJZCA9IGV2ZW50LmFyZ3MuaWQudG9TdHJpbmcoKTtcclxuICAgICAgY29uc3QgcG9zQWRkcmVzcyA9IGV2ZW50LmFyZ3MucG9zO1xyXG5cclxuICAgICAgLy8gRGlzcGF0Y2ggYWN0aW9uIHRvIHVwZGF0ZSBSZWR1eCBzdG9yZVxyXG4gICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWxvYWQgUE9TIGxpc3RcclxuICAgIGF3YWl0IGxvYWRBbGxQT1MocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNyZWF0ZVBPUzonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRBbGxQT1MgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcclxuICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChjb250cmFjdEFkZHJlc3MsIFJFU1RBVVJBTlRfQUJJLCBzaWduZXIpO1xyXG5cclxuICAgIC8vIEZldGNoIHRoZSBhcnJheSBvZiBQT1MgSURzXHJcbiAgICBjb25zdCBwb3NJZHMgPSBhd2FpdCBjb250cmFjdC5nZXRQT1NJZHMoKTtcclxuXHJcbiAgICBjb25zdCBwb3NBcnJheSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgcG9zSWQgPSBOdW1iZXIocG9zSWRzW2ldKTtcclxuICAgICAgY29uc3QgcG9zQWRkcmVzcyA9IGF3YWl0IGNvbnRyYWN0LlBPU01hcHBpbmcocG9zSWQpO1xyXG4gICAgICBjb25zdCBwb3NDb250cmFjdCA9IGF3YWl0IG5ldyBldGhlcnMuQ29udHJhY3QocG9zQWRkcmVzcywgUE9TX0FCSSwgc2lnbmVyKVxyXG4gICAgICBjb25zdCBwb3NOYW1lID0gYXdhaXQgcG9zQ29udHJhY3QuZ2V0TmFtZSgpXHJcbiAgICAgIGNvbnNvbGUubG9nKHBvc05hbWUpXHJcblxyXG4gICAgICBwb3NBcnJheS5wdXNoKHtcclxuICAgICAgICBpZDogcG9zSWQudG9TdHJpbmcoKSxcclxuICAgICAgICBhZGRyZXNzOiBwb3NBZGRyZXNzLFxyXG4gICAgICAgIG5hbWU6IHBvc05hbWUudG9TdHJpbmcoKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwYXRjaCBhY3Rpb24gdG8gdXBkYXRlIFBPUyBpbiBSZWR1eCBzdG9yZVxyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnUE9TX0xPQURFRCcsIHBvc0FycmF5IH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBsb2FkQWxsUE9TOicsIGVycm9yKTtcclxuICB9XHJcbn07XHJcbiAgZXhwb3J0IGNvbnN0IGxvYWRBbGxNZW51SXRlbXMgPSBhc3luYyAocHJvdmlkZXIsIGNvbnRyYWN0QWRkcmVzcywgYWJpLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXN0YXVyYW50Q29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KGNvbnRyYWN0QWRkcmVzcywgYWJpLCBwcm92aWRlcik7XHJcblxyXG4gICAgLy8gR2V0IGFsbCBQT1MgYWRkcmVzc2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcmVzdGF1cmFudFxyXG4gICAgY29uc3QgcG9zQWRkcmVzc2VzID0gYXdhaXQgcmVzdGF1cmFudENvbnRyYWN0LmdldEFsbFBPU0FkZHJlc3NlcygpO1xyXG5cclxuICAgIGlmIChwb3NBZGRyZXNzZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogJ0xPQURfQUxMX01FTlVfSVRFTVNfU1VDQ0VTUycsIHBheWxvYWQ6IFtdIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyc3RQT1NBZGRyZXNzID0gcG9zQWRkcmVzc2VzWzBdO1xyXG5cclxuICAgIGNvbnN0IHBvc0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChmaXJzdFBPU0FkZHJlc3MsIFBPU19BQkksIHByb3ZpZGVyKTtcclxuXHJcbiAgICBjb25zdCBtZW51SXRlbUlkcyA9IGF3YWl0IHBvc0NvbnRyYWN0LmdldE1lbnVJdGVtSWRzKCk7XHJcbiAgICBsZXQgbWVudUl0ZW1zID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51SXRlbUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBpZCA9IE51bWJlcihtZW51SXRlbUlkc1tpXSk7XHJcbiAgICAgIGNvbnN0IG1lbnVJdGVtID0gYXdhaXQgcG9zQ29udHJhY3QubWVudShpZCk7XHJcblxyXG4gICAgICBtZW51SXRlbXMucHVzaCh7XHJcbiAgICAgICAgaWQ6IGlkLFxyXG4gICAgICAgIGNvc3Q6IGV0aGVycy5mb3JtYXRFdGhlcihtZW51SXRlbS5jb3N0KSxcclxuICAgICAgICBuYW1lOiBtZW51SXRlbS5uYW1lLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdMT0FEX0FMTF9NRU5VX0lURU1TX1NVQ0NFU1MnLCBwYXlsb2FkOiBtZW51SXRlbXMgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgbWVudSBpdGVtczonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhZGROZXdNZW51SXRlbSA9IGFzeW5jIChwcm92aWRlciwgY29udHJhY3RBZGRyZXNzLCBhYmksIGNvc3QsIG5hbWUsIGRpc3BhdGNoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgcmVzdGF1cmFudENvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChjb250cmFjdEFkZHJlc3MsIFJFU1RBVVJBTlRfQUJJLCBwcm92aWRlcik7XHJcblxyXG4gICAgLy8gR2V0IGFsbCBQT1MgYWRkcmVzc2VzIGZyb20gdGhlIHJlc3RhdXJhbnQgY29udHJhY3RcclxuICAgIGNvbnN0IHBvc0FkZHJlc3NlcyA9IGF3YWl0IHJlc3RhdXJhbnRDb250cmFjdC5nZXRBbGxQT1NBZGRyZXNzZXMoKTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggZWFjaCBQT1MgYWRkcmVzcyBhbmQgYWRkIHRoZSBtZW51IGl0ZW1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zQWRkcmVzc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHBvc0FkZHJlc3MgPSBwb3NBZGRyZXNzZXNbaV07XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgY29udHJhY3QgaW5zdGFuY2UgZm9yIGVhY2ggUE9TXHJcbiAgICAgIGNvbnN0IHBvc0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChwb3NBZGRyZXNzLCBQT1NfQUJJLCBzaWduZXIpO1xyXG5cclxuICAgICAgLy8gQ2FsbCB0aGUgYWRkTWVudUl0ZW0gZnVuY3Rpb24gb24gZWFjaCBQT1MgY29udHJhY3RcclxuICAgICAgY29uc3QgY29zdEluV2VpID0gZXRoZXJzLnBhcnNlVW5pdHMoY29zdC50b1N0cmluZygpLCAnZXRoZXInKTtcclxuICAgICAgY29uc3QgdHggPSBhd2FpdCBwb3NDb250cmFjdC5hZGRNZW51SXRlbShjb3N0SW5XZWksIG5hbWUpO1xyXG4gICAgICBhd2FpdCB0eC53YWl0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnTUVOVV9JVEVNX0FEREVEJywgcGF5bG9hZDogeyBjb3N0LCBuYW1lIH0gfSk7XHJcblxyXG4gICAgYXdhaXQgbG9hZEFsbE1lbnVJdGVtcyhwcm92aWRlciwgY29udHJhY3RBZGRyZXNzLCBhYmksIGRpc3BhdGNoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIG5ldyBtZW51IGl0ZW06JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEluIGludGVyYWN0aW9ucy5qcyAobmVhciBsb2FkQWxsUE9TIG9yIGFmdGVyIGl0KTpcclxuZXhwb3J0IGNvbnN0IGxvYWRFbXBsb3llZVJlbGV2YW50UE9TID0gYXN5bmMgKHByb3ZpZGVyLCByZXN0YXVyYW50QWRkcmVzcywgZGlzcGF0Y2gpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCByZXN0YXVyYW50Q29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KHJlc3RhdXJhbnRBZGRyZXNzLCBSRVNUQVVSQU5UX0FCSSwgc2lnbmVyKTtcclxuICAgIGNvbnN0IHBvc0lkcyA9IGF3YWl0IHJlc3RhdXJhbnRDb250cmFjdC5nZXRQT1NJZHMoKTtcclxuICAgIGNvbnN0IHBvc0FycmF5ID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgcG9zSWQgPSBOdW1iZXIocG9zSWRzW2ldKTtcclxuICAgICAgY29uc3QgcG9zQWRkcmVzcyA9IGF3YWl0IHJlc3RhdXJhbnRDb250cmFjdC5QT1NNYXBwaW5nKHBvc0lkKTtcclxuICAgICAgY29uc3QgcG9zQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KHBvc0FkZHJlc3MsIFBPU19BQkksIHNpZ25lcik7XHJcbiAgICAgIGNvbnN0IHBvc05hbWUgPSBhd2FpdCBwb3NDb250cmFjdC5nZXROYW1lKCk7XHJcbiAgICAgIHBvc0FycmF5LnB1c2goe1xyXG4gICAgICAgIGlkOiBwb3NJZC50b1N0cmluZygpLFxyXG4gICAgICAgIGFkZHJlc3M6IHBvc0FkZHJlc3MsXHJcbiAgICAgICAgbmFtZTogcG9zTmFtZS50b1N0cmluZygpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3BhdGNoIGFuIGFjdGlvbiB0aGF0IHNwZWNpZmljYWxseSBzdG9yZXMgUE9TIGFkZHJlc3NlcyByZWxldmFudCB0byB0aGUgY3VycmVudCBlbXBsb3llZSdzIHJlc3RhdXJhbnRcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ1JFTEVWQU5UX1BPU19MT0FERURfRk9SX0VNUExPWUVFJywgcGF5bG9hZDogcG9zQXJyYXkgfSk7XHJcbiAgICByZXR1cm4gcG9zQXJyYXk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGxvYWRFbXBsb3llZVJlbGV2YW50UE9TOicsIGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRpY2tldEZvclBPUyA9IGFzeW5jIChcclxuICBwcm92aWRlcixcclxuICBwb3NBZGRyZXNzLFxyXG4gIHBvc0FiaSxcclxuICB0aWNrZXROYW1lLFxyXG4gIHNlcnZlckFkZHJlc3MsXHJcbiAgZGlzcGF0Y2hcclxuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgcG9zQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KHBvc0FkZHJlc3MsIHBvc0FiaSwgc2lnbmVyKTtcclxuXHJcbiAgICAvLyBUaGUgUE9TIGNvbnRyYWN0IGV4dGVuZHMgTWVudVRpY2tldEJhc2UsIHdoaWNoIGhhcyBjcmVhdGVUaWNrZXQoX3NlcnZlciwgX25hbWUpXHJcbiAgICBjb25zdCB0eCA9IGF3YWl0IHBvc0NvbnRyYWN0LmNyZWF0ZVRpY2tldChzZXJ2ZXJBZGRyZXNzLCB0aWNrZXROYW1lKTtcclxuICAgIGF3YWl0IHR4LndhaXQoKTtcclxuXHJcbiAgICAvLyBBZnRlciBjcmVhdGlvbiwgcmVsb2FkIHRpY2tldHMgc28gdGhlIFVJIHJlbWFpbnMgdXAtdG8tZGF0ZVxyXG4gICAgYXdhaXQgbG9hZEFsbFRpY2tldHNGb3JQT1MocHJvdmlkZXIsIHBvc0FkZHJlc3MsIHBvc0FiaSwgZGlzcGF0Y2gpO1xyXG5cclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0NSRUFURV9USUNLRVRfU1VDQ0VTUycgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHRpY2tldDonLCBlcnJvcik7XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdDUkVBVEVfVElDS0VUX0ZBSUwnLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogTG9hZHMgYWxsIHRpY2tldHMgZnJvbSBhIGdpdmVuIFBPUyBjb250cmFjdC5cclxuICogQHBhcmFtIHByb3ZpZGVyIEV0aGVycyBwcm92aWRlci9zaWduZXJcclxuICogQHBhcmFtIHBvc0FkZHJlc3MgVGhlIFBPUyBjb250cmFjdCBhZGRyZXNzXHJcbiAqIEBwYXJhbSBwb3NBYmkgVGhlIEFCSSBmb3IgdGhlIFBPUyBjb250cmFjdFxyXG4gKiBAcGFyYW0gZGlzcGF0Y2ggUmVkdXggZGlzcGF0Y2ggZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBsb2FkQWxsVGlja2V0c0ZvclBPUyA9IGFzeW5jIChwcm92aWRlciwgcG9zQWRkcmVzcywgcG9zQWJpLCBkaXNwYXRjaCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzaWduZXIgPSBhd2FpdCBwcm92aWRlci5nZXRTaWduZXIoKTtcclxuICAgIGNvbnN0IHBvc0NvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChwb3NBZGRyZXNzLCBQT1NfQUJJLCBzaWduZXIpO1xyXG4gICAgY29uc29sZS5sb2coKVxyXG4gICAgLy8gVGhlIFBPUyBjb250cmFjdCAodmlhIE1lbnVUaWNrZXRCYXNlKSBoYXMgYW4gYXJyYXkgVGlja2V0SWRzLCBzbyB3ZSByZWFkIHRoYXRcclxuICAgIGNvbnN0IHRpY2tldElkcyA9IGF3YWl0IHBvc0NvbnRyYWN0LmdldFRpY2tldElkcygpO1xyXG4gICAgY29uc3QgdGlja2V0c0FycmF5ID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWNrZXRJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgdGlja2V0SWRCTiA9IHRpY2tldElkc1tpXTsgIC8vIEJpZ0ludFxyXG4gICAgICBjb25zdCB0aWNrZXRJZCA9IE51bWJlcih0aWNrZXRJZEJOKTtcclxuICAgICAgY29uc3QgdGlja2V0U3RydWN0ID0gYXdhaXQgcG9zQ29udHJhY3QuZ2V0VGlja2V0KHRpY2tldElkKTsgXHJcbiAgICAgIC8vIHRpY2tldFN0cnVjdCBoYXMgeyBuYW1lLCBvcmRlcnNbXSwgc2VydmVyLCBpZCwgcGFpZCB9XHJcblxyXG4gICAgICB0aWNrZXRzQXJyYXkucHVzaCh7XHJcbiAgICAgICAgaWQ6IHRpY2tldFN0cnVjdC5pZC50b1N0cmluZygpLFxyXG4gICAgICAgIG5hbWU6IHRpY2tldFN0cnVjdC5uYW1lLFxyXG4gICAgICAgIHNlcnZlcjogdGlja2V0U3RydWN0LnNlcnZlcixcclxuICAgICAgICBwYWlkOiB0aWNrZXRTdHJ1Y3QucGFpZCxcclxuICAgICAgICBwb3NBZGRyZXNzOiBwb3NBZGRyZXNzIC8vIFNvIHdlIGtub3cgd2hpY2ggUE9TIHRoaXMgdGlja2V0IGJlbG9uZ3MgdG9cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGlzcGF0Y2ggdG8gc3RvcmUgaW4gUmVkdXguIFxyXG4gICAgLy8gV2UgY2FuIHN0b3JlIHRoZW0gUE9TLWJ5LVBPUyBvciBpbiBhIHNpbmdsZSBhcnJheS4gXHJcbiAgICAvLyBCZWxvdywgd2UganVzdCBwdXNoIHRoZW0gYWxsIGludG8gYSBzaW5nbGUgYXJyYXkgaW4gUmVkdXg6XHJcbiAgICBkaXNwYXRjaCh7IFxyXG4gICAgICB0eXBlOiAnVElDS0VUU19MT0FERUQnLCBcclxuICAgICAgcGF5bG9hZDogeyBwb3NBZGRyZXNzLCB0aWNrZXRzOiB0aWNrZXRzQXJyYXkgfSBcclxuICAgIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB0aWNrZXRzIGZvciBQT1M6JywgZXJyb3IpO1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnVElDS0VUU19MT0FEX0ZBSUwnLCBlcnJvciB9KTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IHNldEFjdGl2ZVRpY2tldCA9IGFzeW5jIChkaXNwYXRjaCwgdGlja2V0KSA9PiB7XHJcbiAgZGlzcGF0Y2goeyB0eXBlOiAnQUNUSVZFX1RJQ0tFVF9TRVQnLCBwYXlsb2FkOiB0aWNrZXQgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2xlYXJzIHRoZSBjdXJyZW50bHkgYWN0aXZlIHRpY2tldCBpbiBSZWR1eC5cclxuICogQHBhcmFtIHtPYmplY3R9IGRpc3BhdGNoIFJlZHV4IGRpc3BhdGNoXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY2xlYXJBY3RpdmVUaWNrZXQgPSBhc3luYyAoZGlzcGF0Y2gpID0+IHtcclxuICBkaXNwYXRjaCh7IHR5cGU6ICdBQ1RJVkVfVElDS0VUX0NMRUFSJyB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBMb2FkcyBhbGwgbWVudSBpdGVtcyBmb3IgYSBnaXZlbiBQT1MgY29udHJhY3QgYWRkcmVzcyBhbmQgcmV0dXJucyB0aGVtIGFzIGFuIGFycmF5LlxyXG4gKiBPcHRpb25hbGx5LCB5b3UgY291bGQgZGlzcGF0Y2ggYSBSZWR1eCBhY3Rpb24gdG8gc3RvcmUgdGhlbSBpZiBkZXNpcmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHByb3ZpZGVyIEV0aGVycyBwcm92aWRlci9zaWduZXJcclxuICogQHBhcmFtIHtTdHJpbmd9IHBvc0FkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIFBPU1xyXG4gKiBAcGFyYW0ge0FycmF5fSBwb3NBYmkgVGhlIEFCSSBmb3IgdGhlIFBPUyBjb250cmFjdFxyXG4gKiBAcGFyYW0ge09iamVjdH0gZGlzcGF0Y2ggUmVkdXggZGlzcGF0Y2hcclxuICogQHJldHVybnMge0FycmF5fSBBbiBhcnJheSBvZiBtZW51IGl0ZW1zIFt7IGlkLCBuYW1lLCBjb3N0IH0sIC4uLl1cclxuICovXHJcbmV4cG9ydCBjb25zdCBsb2FkTWVudUl0ZW1zRm9yUE9TID0gYXN5bmMgKHByb3ZpZGVyLCBwb3NBZGRyZXNzLCBwb3NBYmksIGRpc3BhdGNoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIE9wdGlvbmFsOiBkaXNwYXRjaCh7IHR5cGU6ICdNRU5VX0lURU1TX0xPQURfUkVRVUVTVCcgfSk7XHJcblxyXG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBwb3NDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QocG9zQWRkcmVzcywgUE9TX0FCSSwgc2lnbmVyKTtcclxuICAgIGNvbnN0IG1lbnVJdGVtSWRzID0gYXdhaXQgcG9zQ29udHJhY3QuZ2V0TWVudUl0ZW1JZHMoKTtcclxuICAgIGNvbnNvbGUubG9nKG1lbnVJdGVtSWRzKVxyXG5cclxuICAgIGxldCBtZW51SXRlbXMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudUl0ZW1JZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgaWQgPSBOdW1iZXIobWVudUl0ZW1JZHNbaV0pO1xyXG4gICAgICBjb25zdCBpdGVtID0gYXdhaXQgcG9zQ29udHJhY3QubWVudShpZCk7XHJcbiAgICAgIC8vIENvbnZlcnQgY29zdCBmcm9tIHdlaSB0byBFdGhlciAob3IgeW91IGNhbiBzdG9yZSByYXcgd2VpKS5cclxuICAgICAgbWVudUl0ZW1zLnB1c2goe1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcclxuICAgICAgICBjb3N0OiBOdW1iZXIoZXRoZXJzLmZvcm1hdEV0aGVyKGl0ZW0uY29zdCkpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcHRpb25hbDogZGlzcGF0Y2goeyB0eXBlOiAnTUVOVV9JVEVNU19GT1JfUE9TX0xPQURFRCcsIHBheWxvYWQ6IG1lbnVJdGVtcyB9KTtcclxuXHJcbiAgICByZXR1cm4gbWVudUl0ZW1zO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIG1lbnUgZm9yIFBPUzonLCBlcnJvcik7XHJcbiAgICAvLyBPcHRpb25hbDogZGlzcGF0Y2goeyB0eXBlOiAnTUVOVV9JVEVNU19MT0FEX0ZBSUwnLCBlcnJvciB9KTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFRpY2tldE9yZGVycyA9IGFzeW5jIChcclxuICBwcm92aWRlcixcclxuICBwb3NBZGRyZXNzLFxyXG4gIHBvc0FiaSxcclxuICB0aWNrZXRJZCxcclxuICBpdGVtcywgLy8gYXJyYXkgb2YgeyBjb3N0LCBuYW1lIH0gdG8gYmUgYXBwZW5kZWRcclxuICBkaXNwYXRjaFxyXG4pID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2lnbmVyID0gYXdhaXQgcHJvdmlkZXIuZ2V0U2lnbmVyKCk7XHJcbiAgICBjb25zdCBwb3NDb250cmFjdCA9IG5ldyBldGhlcnMuQ29udHJhY3QocG9zQWRkcmVzcywgUE9TX0FCSSwgc2lnbmVyKTtcclxuICAgIGNvbnN0IHR4ID0gYXdhaXQgcG9zQ29udHJhY3QuYWRkVGlja2V0T3JkZXJzKHRpY2tldElkLCBpdGVtcyk7XHJcbiAgICBhd2FpdCB0eC53YWl0KCk7XHJcblxyXG4gICAgLy8gT3B0aW9uYWxseSByZWxvYWQgdGhlIHVwZGF0ZWQgdGlja2V0Li4uXHJcbiAgICAvLyBhd2FpdCBsb2FkQWxsVGlja2V0c0ZvclBPUyhwcm92aWRlciwgcG9zQWRkcmVzcywgcG9zQWJpLCBkaXNwYXRjaCk7XHJcblxyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnQUREX1RJQ0tFVF9PUkRFUlNfU1VDQ0VTUycgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBvcmRlcnM6JywgZXJyb3IpO1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiAnQUREX1RJQ0tFVF9PUkRFUlNfRkFJTCcsIGVycm9yIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkRnVsbFRpY2tldERldGFpbHMgPSBhc3luYyAoXHJcbiAgcHJvdmlkZXIsXHJcbiAgcG9zQWRkcmVzcyxcclxuICBwb3NBYmksXHJcbiAgdGlja2V0SWQsXHJcbiAgZGlzcGF0Y2hcclxuKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNpZ25lciA9IGF3YWl0IHByb3ZpZGVyLmdldFNpZ25lcigpO1xyXG4gICAgY29uc3QgcG9zQ29udHJhY3QgPSBuZXcgZXRoZXJzLkNvbnRyYWN0KHBvc0FkZHJlc3MsIFBPU19BQkksIHNpZ25lcik7XHJcblxyXG4gICAgLy8gR3JhYiB0aGUgZW50aXJlIHRpY2tldCBzdHJ1Y3QgZnJvbSB0aGUgY29udHJhY3RcclxuICAgIGNvbnN0IHRpY2tldFN0cnVjdCA9IGF3YWl0IHBvc0NvbnRyYWN0LmdldFRpY2tldCh0aWNrZXRJZCk7XHJcbiAgICAvLyB0aWNrZXRTdHJ1Y3QgLT4geyBuYW1lLCBvcmRlcnNbXSwgc2VydmVyLCBpZCwgcGFpZCB9XHJcblxyXG4gICAgLy8gQ29udmVydCBvcmRlcnNbXSBmcm9tIGNvbnRyYWN0IChjb3N0IGluIHdlaSkgdG8gYSBmcmllbmRsaWVyIEpTIGFycmF5XHJcbiAgICBjb25zdCBvcmRlcnMgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlja2V0U3RydWN0Lm9yZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBvcmRlckl0ZW0gPSB0aWNrZXRTdHJ1Y3Qub3JkZXJzW2ldO1xyXG4gICAgICBvcmRlcnMucHVzaCh7XHJcbiAgICAgICAgbmFtZTogb3JkZXJJdGVtLm5hbWUsXHJcbiAgICAgICAgY29zdDogTnVtYmVyKGV0aGVycy5mb3JtYXRFdGhlcihvcmRlckl0ZW0uY29zdCkpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmdWxsVGlja2V0ID0ge1xyXG4gICAgICBpZDogTnVtYmVyKHRpY2tldFN0cnVjdC5pZCkudG9TdHJpbmcoKSxcclxuICAgICAgbmFtZTogdGlja2V0U3RydWN0Lm5hbWUsXHJcbiAgICAgIHNlcnZlcjogdGlja2V0U3RydWN0LnNlcnZlcixcclxuICAgICAgcGFpZDogdGlja2V0U3RydWN0LnBhaWQsXHJcbiAgICAgIHBvc0FkZHJlc3MsXHJcbiAgICAgIG9yZGVyc1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBEaXNwYXRjaCBzbyBSZWR1eCBrbm93cyBhYm91dCB0aGUgZnVsbHkgZGV0YWlsZWQgdGlja2V0XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6ICdBQ1RJVkVfVElDS0VUX0RFVEFJTFNfTE9BREVEJywgcGF5bG9hZDogZnVsbFRpY2tldCB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBmdWxsIHRpY2tldCBkZXRhaWxzOicsIGVycm9yKTtcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogJ0FDVElWRV9USUNLRVRfREVUQUlMU19GQUlMJywgZXJyb3IgfSk7XHJcbiAgfVxyXG59OyJdLCJuYW1lcyI6WyJldGhlcnMiLCJSRVNUQVVSQU5UX0FCSSIsIkRFQ0VOVFJBVEFMSVRZU0VSVklDRUZBQ1RPUllfQUJJIiwiUE9TX0FCSSIsInVzZVNlbGVjdG9yIiwiR2xvYmFsUmVzdGF1cmFudHMiLCJsb2FkUHJvdmlkZXIiLCJkaXNwYXRjaCIsImNvbm5lY3Rpb24iLCJCcm93c2VyUHJvdmlkZXIiLCJ3aW5kb3ciLCJldGhlcmV1bSIsInR5cGUiLCJsb2FkQWNjb3VudCIsInByb3ZpZGVyIiwiYWNjb3VudHMiLCJzZW5kIiwiYWNjb3VudCIsImdldEFkZHJlc3MiLCJsb2FkTmV0d29yayIsImNoYWluSWQiLCJnZXROZXR3b3JrIiwiTnVtYmVyIiwic3Vic2NyaWJlVG9FdmVudHMiLCJyZXN0YXVyYW50RmFjdG9yeSIsIlJlc3RhdXJhbnRzIiwib24iLCJyZXN0YXVyYW50IiwiaWQiLCJvd25lciIsImV2ZW50IiwiX3Jlc3RhdXJhbnQiLCJhcmdzIiwidGltZXN0YW1wIiwiam9iIiwibG9hZEZhY3RvcnkiLCJhZGRyZXNzIiwidXNlciIsImdldFNpZ25lciIsImRlY2VudHJhdGFsaXR5U2VydmljZUZhY3RvcnkiLCJDb250cmFjdCIsImFiaSIsImxvYWRBbGxSZXN0YXVyYW50cyIsImZhY3RvcnkiLCJSZXN0YXVyYW50IiwiUmVzdGF1cmFudHNSYXciLCJibG9jayIsImdldEJsb2NrTnVtYmVyIiwicmVzdGF1cmFudFN0cmVhbSIsInF1ZXJ5RmlsdGVyIiwibWFwIiwibGVuZ3RoIiwiaSIsImtleSIsInB1c2giLCJsb2FkTXlSZXN0YXVyYW50cyIsIm15UmVzdGF1cmFudHMiLCJkZWNvcmF0ZU15UmVzdGF1cmFudHMiLCJkZWNvcmF0ZWRSZXN0YXVyYW50cyIsImNvbnRyYWN0IiwibmFtZSIsImNhc2giLCJnZXRCYWxhbmNlIiwidGFyZ2V0IiwiZGVjb3JhdGVkUmVzdGF1cmFudCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU5ld1Jlc3RhdXJhbnQiLCJyZXN0YXVyYW50TmFtZSIsInJlc3RhdXJhbnRMaXF1aWRpdHkiLCJuZXdSZXN0YXVyYW50IiwiYmFsYW5jZSIsImNyZWF0ZVJlc3RhdXJhbnQiLCJ2YWx1ZSIsImxvYWREYXNoYm9hcmRSZXN0YXVyYW50Q29udHJhY3REYXRhIiwiY29udHJhY3RBZGRyZXNzIiwibXlDYXNoIiwidG9TdHJpbmciLCJjcmVhdGVOZXdKb2IiLCJ3YWdlIiwidHgiLCJhZGRKb2IiLCJ3YWl0IiwibG9hZEFsbEpvYnMiLCJoaXJlTmV3RW1wbG95ZWUiLCJqb2JJZCIsImVtcGxveWVlQWRkcmVzcyIsImhpcmVFbXBsb3llZSIsImxvYWRBbGxFbXBsb3llZXMiLCJlbXBsb3llZUlkcyIsImdldEVtcGxveWVlSWRzIiwiZW1wbG95ZWVzQXJyYXkiLCJlbXBsb3llZUlkIiwiZW1wbG95ZWUiLCJlbXBsb3llZXMiLCJjbG9ja1N0YW1wIiwiZW1wbG95ZWVQZW5zaW9uIiwiam9iSWRzIiwiZ2V0Sm9iSWRzIiwiam9ic0FycmF5Iiwiam9icyIsImhvdXJseVdhZ2VJbldlaSIsImpvYk5hbWUiLCJtZXNzYWdlIiwic3RhcnRTZXJ2aWNlIiwicmVjZWlwdCIsImdldEJsb2NrIiwiYmxvY2tOdW1iZXIiLCJzZXJ2aWNlU3RhcnRUaW1lIiwibG9hZEFsbFNlcnZpY2VzIiwic2VydmljZUlkcyIsImdldFNlcnZpY2VJZHMiLCJzZXJ2aWNlc0FycmF5Iiwic2VydmljZUlkIiwic2VydmljZSIsInNlcnZpY2VzIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImNvc3QiLCJwcm9maXQiLCJyZXZlbnVlIiwiZW5kU2VydmljZSIsImNyZWF0ZVBPUyIsInNpZ25lciIsImxvZ3MiLCJpbnRlcmZhY2UiLCJwYXJzZUxvZyIsImZpbmQiLCJwYXJzZWRMb2ciLCJwb3NJZCIsInBvc0FkZHJlc3MiLCJwb3MiLCJsb2FkQWxsUE9TIiwicG9zSWRzIiwiZ2V0UE9TSWRzIiwicG9zQXJyYXkiLCJQT1NNYXBwaW5nIiwicG9zQ29udHJhY3QiLCJwb3NOYW1lIiwiZ2V0TmFtZSIsImxvYWRBbGxNZW51SXRlbXMiLCJyZXN0YXVyYW50Q29udHJhY3QiLCJwb3NBZGRyZXNzZXMiLCJnZXRBbGxQT1NBZGRyZXNzZXMiLCJwYXlsb2FkIiwiZmlyc3RQT1NBZGRyZXNzIiwibWVudUl0ZW1JZHMiLCJnZXRNZW51SXRlbUlkcyIsIm1lbnVJdGVtcyIsIm1lbnVJdGVtIiwibWVudSIsImZvcm1hdEV0aGVyIiwiYWRkTmV3TWVudUl0ZW0iLCJjb3N0SW5XZWkiLCJwYXJzZVVuaXRzIiwiYWRkTWVudUl0ZW0iLCJsb2FkRW1wbG95ZWVSZWxldmFudFBPUyIsInJlc3RhdXJhbnRBZGRyZXNzIiwiY3JlYXRlVGlja2V0Rm9yUE9TIiwicG9zQWJpIiwidGlja2V0TmFtZSIsInNlcnZlckFkZHJlc3MiLCJjcmVhdGVUaWNrZXQiLCJsb2FkQWxsVGlja2V0c0ZvclBPUyIsInRpY2tldElkcyIsImdldFRpY2tldElkcyIsInRpY2tldHNBcnJheSIsInRpY2tldElkQk4iLCJ0aWNrZXRJZCIsInRpY2tldFN0cnVjdCIsImdldFRpY2tldCIsInNlcnZlciIsInBhaWQiLCJ0aWNrZXRzIiwic2V0QWN0aXZlVGlja2V0IiwidGlja2V0IiwiY2xlYXJBY3RpdmVUaWNrZXQiLCJsb2FkTWVudUl0ZW1zRm9yUE9TIiwiaXRlbSIsImFkZFRpY2tldE9yZGVycyIsIml0ZW1zIiwibG9hZEZ1bGxUaWNrZXREZXRhaWxzIiwib3JkZXJzIiwib3JkZXJJdGVtIiwiZnVsbFRpY2tldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/store/interactions.js\n"));

/***/ })

});